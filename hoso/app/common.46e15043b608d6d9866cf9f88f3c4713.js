!function(){"use strict";angular.module("constants").constant("mobileAppLinkPrefix",{web:{ios:"https://itunes.apple.com/us/app/=8",android:"https://play.google.com/store/apps/details?id="},mobile:{ios:"itms://itunes.apple.com/us/app/",android:"market://details?id="}})}(),function(){"use strict";angular.module("components").component("pipeSeparator",{template:'<span class="pipe-separator">|</span>'})}(),function(){"use strict";var module=angular.module("components"),dentalController=function(dentalService){var deltaDentalController=this;deltaDentalController.isDelta=dentalService.checkForDeltaDental(deltaDentalController.dentalContract),deltaDentalController.navigateToDeltaDental=function(){dentalService.navigateToDeltaDental()}},_component={bindings:{dentalContract:"<contractInfo"},templateUrl:function($attrs){return"common/templates/delta-dental-plan-"+$attrs.template+"-template.html"},controller:["dentalService",dentalController],controllerAs:"deltaDentalController"};module.component("deltaDentalPlan",_component)}(),function(){"use strict";var module=angular.module("components"),_component={bindings:{url:"@"},controller:function($window){var script=$window.document.createElement("script");script.type="text/javascript",script.src=this.url,script.async=!0,$window.document.getElementsByTagName("head")[0].appendChild(script)}};module.component("salesForceScript",_component)}(),function(){"use strict";var module,directive;module=angular.module("directives"),directive=function(){return{priority:-100,restrict:"A",link:function(scope,element,attrs){element.bind("error",function(){attrs.src!==attrs.fallbackSrc&&element.attr("src",attrs.fallbackSrc)})}}},module.directive("fallbackSrc",[directive])}(),function(){"use strict";function flexboxWrapDetector(){var ddo={restrict:"A",scope:!0,link:function(scope,element){function wrapped(){var topRowOffset,prevTop,currentRow=0,wrappedRegex=/wrapped-\d*/i;element.children().each(function(){var top=$(this).offset().top;return wrappedRegex.exec($(this)[0].classList)&&($(this)[0].className=$(this)[0].className.replace(wrappedRegex,"").trim()),void 0===topRowOffset?(topRowOffset=top,prevTop=top,!0):void(top!==topRowOffset&&(top!==prevTop&&(currentRow+=1),$(this).addClass("wrapped-"+currentRow),prevTop=top))})}wrapped(),$(window).resize(wrapped)}};return ddo}angular.module("directives").directive("flexboxWrapDetector",flexboxWrapDetector)}(),function(){"use strict";var module,directive;module=angular.module("directives"),directive=function($timeout){return{restrict:"A",link:function(scope,element,attrs){scope.$watch(attrs.focusInput,function(value){value===!0&&$timeout(function(){element[0].focus()})})}}},module.directive("focusInput",["$timeout","$parse",directive])}(),function(){"use strict";var module=angular.module("directives"),directive=function($window){return{restrict:"E",replace:!0,scope:!0,controller:function($scope,$element,$attrs){$scope.backTo=$attrs.backTo},template:'<a class="back btn btn-link" ng-class="{\'hidden-md\':loggedIn, \'hidden-lg\':loggedIn }" data-ng-href="{{backTo}}"><i class="fa fa-angle-left"></i> Back</a>',link:function(scope,element,attr){attr.backTo||element.on("click",function(){$window.history.back()})}}};module.directive("back",["$window",directive])}(),function(){"use strict";var module,directive;module=angular.module("directives"),directive=function(){return{priority:-100,restrict:"A",link:function(scope,element,attrs){element.bind("keydown keypress",function(event){13===event.which&&(scope.$apply(function(){scope.$eval(attrs.enterPress)}),event.preventDefault())})}}},module.directive("enterPress",[directive])}(),function(){"use strict";var module,directive;module=angular.module("directives"),directive=function($uibModal){return{restrict:"A",replace:!0,templateUrl:"app/medications/views/medication-edit-template.html",scope:{value:"=clickToEdit",ondelete:"&",onsave:"&"},controller:function($scope,$element,$attrs){function deleteController($scope,$uibModalInstance){$scope.data={},$scope["delete"]=function(){$uibModalInstance.close(),this.ondelete()},$scope.cancel=function(){$uibModalInstance.dismiss("cancel")}}switch($scope.category=$attrs.clickToEdit,$scope.category){case"healthIssue":$scope.title="Health Issue";break;case"medication":$scope.title="Medication";break;case"allergy":$scope.title="Allergies";break;case"immunization":$scope.title="Immunizations";break;default:$scope.title=$scope.category}$scope.view={editableValue:$scope.value,editorEnabled:!1},$scope.itemName=$scope.value.name,$scope.enableEditor=function(){$scope.view.editorEnabled=!0,$scope.view.editableValue=$scope.value},$scope.disableEditor=function(){$scope.view.editorEnabled=!1},$scope.save=function(){$scope.value=$scope.view.editableValue,$scope.disableEditor(),this.onsave()},$scope.showDeleteDialog=function(){$scope.modal=$uibModal.open({templateUrl:"app/medications/views/confirm-modal.tpl.html",controller:deleteController,scope:$scope})}}}},module.directive("clickToEdit",["$uibModal",directive])}(),function(){"use strict";function directive($filter){return{restrict:"A",link:function(scope,element,attrs){function setPhoneNumber(number){if(number){number=$filter("phone")(number);var hrefNumber=number.replace(/\D/g,"");attrs.extension&&(hrefNumber=hrefNumber+","+attrs.extension),attrs.$set("href","tel:1"+hrefNumber),attrs.prefixText&&(number=attrs.prefixText+" "+number),attrs.ignoreTextChange||element.text(number)}}attrs.$observe("number",function(val){setPhoneNumber(val)}),setPhoneNumber(attrs.number)}}}var module=angular.module("directives");module.directive("phoneNumber",["$filter",directive])}(),function(){"use strict";function directive(){return{restrict:"A",require:"ngModel",link:function(scope,element,attrs,modelCtrl){modelCtrl.$parsers.push(function(inputValue){if(void 0===inputValue)return"";var transformedInput=inputValue.replace(/[^0-9]/g,"");return transformedInput!==inputValue&&(modelCtrl.$setViewValue(transformedInput),modelCtrl.$render()),transformedInput})}}}var module=angular.module("directives");module.directive("numberOnly",[directive])}(),function(){"use strict";function directive($location,$analytics){function isCommand(element){return["a:","button:","button:button","button:submit","input:button","input:submit"].indexOf(element.tagName.toLowerCase()+":"+(element.type||""))>=0}function inferEventType(element){return isCommand(element),"click"}function inferEventName(element){return isCommand(element)?element.innerText||element.value:element.id||element.name||element.tagName}function isProperty(name){return"analytics"===name.substr(0,9)&&-1===["On","Event"].indexOf(name.substr(9))}function setAttrs(element,attrs){attrs.$set("analytics-on",""),attrs.$set("analytics-event",attrs.href),attrs.$set("analytics-category","Link"),attrs.$set("analytics-label",$location.path()),attrs.$set("analytics-value",element.text())}return{restrict:"E",link:function(scope,element,attrs){setAttrs(element,attrs),scope.$on("$routeChangeSuccess",function(){setAttrs(element,attrs)});var eventType=attrs.analyticsOn||inferEventType(element[0]);angular.element(element[0]).bind(eventType,function(){var eventName=attrs.analyticsEvent||inferEventName(element[0]),properties={};angular.forEach(attrs.$attr,function(attr,name){isProperty(name)&&(properties[name.slice(10).toLowerCase()]=attrs[name])}),$analytics.eventTrack(eventName,properties)})}}}var module=angular.module("directives");module.directive("a",["$location","$analytics",directive])}(),function(){"use strict";function directive(UserAgent){return{restrict:"A",priority:10,link:function(scope,element,attrs){function setMapURL(){var url=attrs.href;if(url&&url.length>7){var androidPrefix="geo:0,0",iosPrefix="maps:";UserAgent.deviceIsAndroid&&url.substring(0,7)!==androidPrefix?(url=url.slice(url.indexOf("?")),attrs.$set("href",androidPrefix+url)):UserAgent.deviceIsIOS&&url.substring(0,5)!==iosPrefix&&(url=url.slice(url.indexOf("?")+1),attrs.$set("href",iosPrefix+url))}}UserAgent.isMobile&&(UserAgent.deviceIsIOS||UserAgent.deviceIsAndroid)&&(attrs.$observe("href",function(){setMapURL()}),setMapURL())}}}var module=angular.module("directives");module.directive("mapLink",["UserAgent",directive])}(),function(){"use strict";function directive(UserAgent){return{restrict:"A",priority:20,link:function(scope,element,attrs){function setLink(target){var url=attrs.href;url&&url.length>=4&&"http"===url.substring(0,4)&&(attrs.$set("onclick","window.open('"+attrs.href+"', '"+target+"')"),element.removeAttr("href"))}function setSystemLink(){setLink("_system")}function setExternalLink(){setLink("_blank")}"undefined"==typeof attrs.targetSystem&&"_system"!==attrs.target||!UserAgent.isMobileApp?"_blank"===attrs.target&&UserAgent.isMobileApp&&(attrs.$observe("href",function(){setExternalLink()}),setExternalLink()):(attrs.$observe("href",function(){setSystemLink()}),setSystemLink())}}}var module=angular.module("directives");module.directive("target",["UserAgent",directive])}(),function(){"use strict";var module,directive;module=angular.module("directives"),directive=function(){return function(scope,element){element[0].focus()}},module.directive("autoFocus",[directive])}(),function(){"use strict";function resolveTemplate(tElement,tAttrs){var frame;return frame="false"===tAttrs.dtDynamicHeight?'<iframe data-ng-src="{{dataTileUrl}}" seamless class="data-tile"></iframe>':'<iframe data-ng-src="{{dataTileUrl}}" seamless class="data-tile" dynamic-height-dt></iframe>','<div class="data-tile-wrapper">'+frame+"</div>"}function EpicDataTileDirective($sce,usSpinnerService,DataTileService,Notifications,appConfig,$window){return{restrict:"E",template:resolveTemplate,replace:!0,scope:{dtId:"@",dtDesc:"@",dtStylesId:"@",dtDynamicHeight:"@",dtNotifyUserUrl:"@"},link:function(scope,elem){function addIdForCustomStyles(){scope.dtStylesId&&elem[0].contentWindow&&elem[0].contentWindow.document&&elem[0].contentWindow.document.getElementsByTagName("html")[0].setAttribute("id",scope.dtStylesId)}function handleExternalLinks(){elem[0].contentWindow&&elem[0].contentWindow.$&&elem[0].contentWindow.document&&elem[0].contentWindow.$('a[target="_system"], a[target="_blank"]',elem[0].contentWindow.document).bind("click",function(e){e.preventDefault(),$window.open(this.href,"_system")})}function handleLocationChange(){scope.$broadcast("dtLocationChanged")}function handleDTError(){elem[0].contentWindow.location.href.indexOf("datatile-error")>-1&&Notifications.clear().error('<b>Oops!</b> Something went wrong while loading the contents of this page. <a ng-click="reload();" class="clickable">Try again!</a>')}elem=elem.find("iframe"),scope.dataTileUrl=$sce.trustAsResourceUrl([appConfig.apiEndpoint,"datatiles",scope.dtId].join("/")),elem[0].contentWindow&&elem[0].contentWindow.document&&elem[0].contentWindow.document.write('<div style="text-align: center"><img src="assets/images/loading.gif" height="40" width="auto" style="margin-left: -20px" alt="Loading spinner" /></div>'),elem.on("load",function(){handleExternalLinks(),addIdForCustomStyles(),handleLocationChange(),handleDTError()})}}}angular.module("directives").directive("epicDataTile",EpicDataTileDirective),EpicDataTileDirective.$inject=["$sce","usSpinnerService","DataTileService","Notifications","appConfig","$window"]}(),function(){"use strict";function _directive(){return{restrict:"A",link:function(scope,element,attrs){var touchCarouselDefaults={dots:!1,navClass:["carousel-directive carousel-prev","carousel-directive carousel-next"],navText:['<i class="icon icon-angle-left"></i>','<i class="icon icon-angle-right"></i>']};scope.$on("onRepeatLast",function(scope,element){var parent=element.parent();if(parent.children().length>1){if(scope.targetScope.touchCarousel){var options=scope.targetScope.touchCarousel[attrs.touchCarousel],owl=parent.owlCarousel(_.extend(touchCarouselDefaults,options));options.startPosition&&options.startPosition>0&&owl.trigger("to.owl.carousel",[options.startPosition,0,!0])}else parent.owlCarousel(touchCarouselDefaults);scope.stopPropagation()}})}}}var module=angular.module("directives");module.directive("touchCarousel",[_directive])}(),function(){"use strict";function _directive(){return{restrict:"A",link:function(scope,element,attrs){scope.$last&&scope.$emit("onRepeatLast",element,attrs)}}}var module=angular.module("directives");module.directive("onRepeatLast",[_directive])}(),function(){"use strict";function _directive(){return{restrict:"A",link:function(scope,element,attrs){scope.$on("us-spinner:spin",function(event,key){var spinnerKey=angular.isDefined(attrs.spinnerKey)?attrs.spinnerKey:!1;key===spinnerKey&&$("#page-overlay").addClass("active-backdrop")}),scope.$on("us-spinner:stop",function(event,key){var spinnerKey=angular.isDefined(attrs.spinnerKey)?attrs.spinnerKey:!1;key===spinnerKey&&$("#page-overlay").removeClass("active-backdrop")})}}}var module=angular.module("directives");module.directive("usSpinnerBackdrop",[_directive])}(),function(){"use strict";var module,directive;module=angular.module("directives"),directive=function($compile){return{link:function(scope,element,attrs){scope.$watch(attrs.htmlCompile,function(value){element.html(value),$compile(element.contents())(scope)})}}},module.directive("htmlCompile",["$compile",directive])}(),function(){"use strict";function directive(){return{restrict:"A",link:function(scope,element,attrs){element.bind("focus",function(){element.attr("rows",attrs.elasticTextarea)}),element.bind("blur",function(){element.attr("rows","1")})}}}var module=angular.module("directives");module.directive("elasticTextarea",[directive])}(),function(){"use strict";function directive(){return{restrict:"A",link:function(scope,element){element.filestyle({input:!1,icon:!1,size:"nr",buttonName:"btn-block btn-default",buttonText:"Upload Photo",badge:!1})}}}var module=angular.module("directives");module.directive("formatFileInput",[directive])}(),function(){"use strict";function humanize(text,lowerCase){var humanText=(text||"").replace(/([A-Z])/g," $1");return lowerCase?humanText.toLowerCase():humanText}function FormFieldController(scope,element,attrs,$parse,$interpolate){var formField=this,form=element.parent().controller("form"),formName=attrs.formName||form.$name,fieldName=attrs[directiveName],scopeName=fieldName+"Field",fieldExpr=[formName,fieldName].join("."),parser=$parse(fieldExpr),validateOn=attrs.validateOn||"change",inputEl=element.find("[name='"+fieldName+"']");switch(scope[scopeName]=formField,validateOn){case"blur":inputEl.blur(function(){formField.$update(),scope.$apply()});break;default:scope.$watchCollection(fieldExpr,function(){formField.$update()},!0)}scope.patterns={alpha:/^[\w]*$/,words:/^[\w\s\-]*$/,alphaNum:/^[\w0-9]*$/,username:/^[\w0-9_]*$/,phone:/^(?:(?:\+?1\s*(?:[.-]\s*)?)?(?:\(\s*([2-9]1[02-9]|[2-9][02-8]1|[2-9][02-8][02-9])\s*\)|([2-9]1[02-9]|[2-9][02-8]1|[2-9][02-8][02-9]))\s*(?:[.-]\s*)?)?([2-9]1[02-9]|[2-9][02-9]1|[2-9][02-9]{2})\s*(?:[.-]\s*)?([0-9]{4})(?:\s*(?:#|x\.?|ext\.?|extension)\s*(\d+))?$/},formField.$name=fieldName,formField.$label=humanize(fieldName,!0),formField.$scopeName=scopeName,formField.$state={error:!1,success:!1},formField.$getMessages=function(){var messages=[];for(var prop in formField.$control.$error)formField.$state.error&&formField.$control.$error[prop]&&messages.push(formField.$getMessage(prop));return messages},formField.$update=function(){if(formField.$control=parser(scope),!formField.$control)throw"The validated field for "+fieldName+" must have a validation directive on an input field";formField.$label=humanize(attrs.fieldName||fieldName,!0),formField.$value=formField.$control.$viewValue||inputEl.val(),formField.$state.error=formField.$control.$dirty&&formField.$control.$invalid,formField.$state.success=formField.$control.$dirty&&formField.$control.$valid,formField.$messages=formField.$getMessages(),formField.$message=formField.$messages.length?formField.$messages[0]:null,formField.$render()},formField.$render=function(){formField.$state.error?(element.addClass(ERROR_CLASS),inputEl.addClass("invalid-checkmark")):(element.removeClass(ERROR_CLASS),inputEl.removeClass("invalid-checkmark")),formField.$state.success?(element.addClass(SUCCESS_CLASS),inputEl.addClass("valid-checkmark")):(element.removeClass(SUCCESS_CLASS),inputEl.removeClass("valid-checkmark"))},formField.$getMessage=function(key){var tmpl=defaultMessages[key]||defaultMessages["default"];return $interpolate(tmpl)(formField)}}function sameAsDirective(){return{require:"ngModel",scope:{sameAsValue:"=sameAs"},link:function(scope,element,attributes,ngModel){scope.$watch(function(){var valid=scope.sameAsValue===ngModel.$viewValue;ngModel.$setValidity("sameAs",valid)})}}}function formFieldDirective(){return{scope:!0,controller:FormFieldController}}function messageDirective(){return{require:"^"+directiveName,replace:!0,scope:!0,template:"<span class='help-block' ng-if='message.length'>{{message}}</span>",link:function(scope,el,attrs,ctrl){scope.message=ctrl.$name,scope.$watchCollection(ctrl.$name+"Field",function(){scope.message=ctrl.$message},!0)}}}var module=angular.module("directives"),directiveName="validationFor",messageDirectiveName="validationMessage",defaultMessages={required:"{{$label}} is required",minlength:"{{$label}} is not long enough",maxlength:"{{$label}} is too long",email:"{{$value}} is not a valid email address","default":"The value {{$value}} is not a valid {{$label}}"},ERROR_CLASS="has-error",SUCCESS_CLASS="has-success";FormFieldController.$inject=["$scope","$element","$attrs","$parse","$interpolate"],module.directive("sameAs",[sameAsDirective]).directive(directiveName,[formFieldDirective]).directive(messageDirectiveName,[messageDirective])}(),function(){"use strict";function directive(){return{templateUrl:"common/views/mh-accordion.tpl.html",restrict:"E",scope:{layout:"=layout"}}}var module=angular.module("directives");module.directive("mhAccordion",[directive])}(),function(){"use strict";function directive(UserAgent){return{restrict:"A",scope:{fileChooserSuccess:"&",fileChooserFailure:"&"},link:function(scope,element){UserAgent.deviceIsAndroid&&0===window.device.version.indexOf("4.4")&&(element.children(0).on("click",function(e){e.preventDefault()}),element.bind("touchend",function(){window.filechooser.open({},scope.fileChooserSuccess(),scope.fileChooserFailure())}))}}}var module=angular.module("directives");module.directive("androidFileChooser",["UserAgent",directive])}(),function(){"use strict";function datepickerController(scope,element,attrs,$document){var ngModelName=attrs.ngModel,ngModelCtrl=null,closeOnSelect=angular.isDefined(attrs.closeOnSelect)?scope.$parent.$eval(attrs.closeOnSelect):!0;void 0!==scope.$parent[ngModelName]&&(scope.date=scope.$parent[ngModelName]);var documentClickBind=function(event){var el=$(event.target),parent=el.parent(),parentCal=el.parents(".calendar");!scope.opened||parentCal.length||el.hasClass("btn")||parent.hasClass("btn")||scope.$apply(function(){scope.close()})};scope.datePickerConfig={minDate:scope.minDate,maxDate:scope.maxDate,showWeeks:!1,formatDay:"d"},this.init=function(ctrl){ngModelCtrl=ctrl},scope.keydown=function(evt){27===evt.which?(evt.preventDefault(),evt.stopPropagation(),scope.close()):40===evt.which&&(evt.preventDefault(),evt.stopPropagation(),scope.open())},scope.setDate=function(date){angular.isDefined(date)&&(scope.date=date),ngModelCtrl&&(ngModelCtrl.$setViewValue(scope.date),ngModelCtrl.$render()),closeOnSelect&&scope.close()},scope.validate=function(){},scope.open=function($event){element.find("input").focus(),$event&&($event.preventDefault(),$event.stopPropagation()),scope.opened||(scope.opened=!0,$document.bind("click",documentClickBind))},scope.close=function($event){$event&&($event.preventDefault(),$event.stopPropagation()),$document.unbind("click",documentClickBind),scope.opened=!1}}function _directive($parse,$document,$timeout){return{restrict:"EA",require:["mhDatepicker","ngModel"],replace:!0,scope:{minDate:"=",maxDate:"=",isRequired:"=ngRequired",date:"=ngModel"},controller:datepickerController,templateUrl:"common/templates/datepicker.html",link:function(scope,element,attrs,ctrls){var datePickerCtrl=ctrls[0],ngModelCtrl=ctrls[1];datePickerCtrl.init(ngModelCtrl),$timeout(function(){element.find(".dropdown-menu").remove()},100)}}}var module=angular.module("directives");datepickerController.$inject=["$scope","$element","$attrs","$document"],module.directive("mhDatepicker",["$parse","$document","$timeout","dateFilter","UibDateParser",_directive])}(),function(){"use strict";function directive(){return{template:'<div class="balloon-message" data-ng-transclude></div>',restrict:"E",transclude:!0,replace:!0}}var module=angular.module("directives");module.directive("balloonMessage",[directive])}(),function(){"use strict";var module,directive,controller;module=angular.module("directives"),controller=function(scope,element,attrs,Wizard,$location){function successHandler(){scope.$state.submitted=!0,scope.$config.successUrl&&scope.$config.redirectOnSuccess?$location.path(scope.$config.successUrl):scope.$wizard.reset()}function updateState(wizard){wizard&&_.extend(scope.$state,{isFirstStep:0===wizard.selectedIndex,isLastStep:wizard.selectedIndex===wizard.steps.length-1})}function applyCallback(name,locals){var callbackExpr=attrs[name];return callbackExpr?scope.$eval(callbackExpr,angular.extend({wizard:scope.$wizard,form:scope.wizardForm,step:scope.$wizard.activeStep},locals)):void 0}var wizardName=attrs.wizard||"wizard",defaultConfig={nextText:"Next",prevText:"Back",cancelText:"Cancel",submitText:"Submit"};scope.$state={submitted:!1},scope.$config=_.extend({},defaultConfig),scope.$wizard=new Wizard,scope.$wizard.form=scope.wizardForm,scope.$parent[wizardName]=scope.$wizard,scope.$watch(attrs.wizardConfig,function(config){config&&_.extend(scope.$config,config)}),scope.$watch(attrs.steps,function(steps,prevSteps){!steps||!steps.length||steps===prevSteps&&scope.$wizard.steps.length||scope.$wizard.update(steps)}),scope.$watch("$wizard",function(state,prevState){state&&prevState&&state.selectedIndex!==prevState.selectedIndex&&applyCallback("stepChange"),updateState(state)},!0),scope.$isValid=function(){return attrs.stepValidator?applyCallback("stepValidator")!==!1:scope.$wizard.activeStep.validate&&angular.isFunction(scope.$wizard.activeStep.validate)?scope.$wizard.activeStep.validate(scope.wizardForm)!==!1:!scope.wizardForm||scope.wizardForm.$dirty&&scope.wizardForm.$valid},scope.$submit=function(){if(scope.$isValid()){var response=applyCallback("submit");response&&response.then?response.then(successHandler):response!==!1&&successHandler()}},scope.$reset=function(){scope.$wizard.reset(),scope.$state.submitted=!1,applyCallback("reset")}},controller.$inject=["$scope","$element","$attrs","Wizard","$location"],directive=function(){return{scope:!0,controller:controller,templateUrl:"common/templates/wizard.html",link:function(){}}},module.directive("wizard",[directive])}(),function(){"use strict";function $TemplateRequestProvider(){this.$get=["$templateCache","$http","$q",function($templateCache,$http,$q){function handleRequestFn(tpl,ignoreRequestError){function handleError(resp){return ignoreRequestError?$q.reject(resp):void 0}handleRequestFn.totalPendingRequests++;var transformResponse=$http.defaults&&$http.defaults.transformResponse,httpOptions={cache:$templateCache,transformResponse:transformResponse};return $http.get(tpl,httpOptions)["finally"](function(){handleRequestFn.totalPendingRequests--}).then(function(response){return response.data},handleError)}return handleRequestFn.totalPendingRequests=0,handleRequestFn}]}function ngMessageDirectiveFactory(restrict){function contains(collection,key){return collection?isArray(collection)?collection.indexOf(key)>=0:collection.hasOwnProperty(key):void 0}return["$animate",function($animate){return{restrict:"AE",transclude:"element",terminal:!0,require:"^^ngMessages",link:function(scope,element,attrs,ngMessagesCtrl,$transclude){var records,commentNode=element[0],staticExp=attrs.ngMessage||attrs.when,dynamicExp=attrs.ngMessageExp||attrs.whenExp,assignRecords=function(items){records=items?isArray(items)?items:items.split(/[\s,]+/):null,ngMessagesCtrl.reRender()};dynamicExp?(assignRecords(scope.$eval(dynamicExp)),scope.$watchCollection(dynamicExp,assignRecords)):assignRecords(staticExp);var currentElement,messageCtrl;ngMessagesCtrl.register(commentNode,messageCtrl={test:function(name){return contains(records,name)},attach:function(){currentElement||$transclude(scope,function(elm){$animate.enter(elm,null,element),currentElement=elm,currentElement.on("$destroy",function(){currentElement&&(ngMessagesCtrl.deregister(commentNode),messageCtrl.detach())})})},detach:function(){if(currentElement){var elm=currentElement;currentElement=null,$animate.leave(elm)}}})}}}]}angular.module("app").provider("$templateRequest",[$TemplateRequestProvider]);var isArray=angular.isArray,forEach=angular.forEach,isString=angular.isString,jqLite=angular.element;angular.module("directives").directive("ngMessages",["$animate",function($animate){function isAttrTruthy(scope,attr){return isString(attr)&&0===attr.length||truthy(scope.$eval(attr))}function truthy(val){return isString(val)?val.length:!!val}var ACTIVE_CLASS="ng-active",INACTIVE_CLASS="ng-inactive";return{require:"ngMessages",restrict:"AE",controller:["$element","$scope","$attrs",function($element,$scope,$attrs){function findPreviousMessage(parent,comment){for(var prevNode=comment,parentLookup=[];prevNode&&prevNode!==parent;){var prevKey=prevNode.$$ngMessageNode;if(prevKey&&prevKey.length)return messages[prevKey];prevNode.childNodes.length&&-1==parentLookup.indexOf(prevNode)?(parentLookup.push(prevNode),prevNode=prevNode.childNodes[prevNode.childNodes.length-1]):prevNode=prevNode.previousSibling||prevNode.parentNode}}function insertMessageNode(parent,comment,key){var messageNode=messages[key];if(ctrl.head){var match=findPreviousMessage(parent,comment);match?(messageNode.next=match.next,match.next=messageNode):(messageNode.next=ctrl.head,ctrl.head=messageNode)}else ctrl.head=messageNode}function removeMessageNode(parent,comment,key){var messageNode=messages[key],match=findPreviousMessage(parent,comment);match?match.next=messageNode.next:ctrl.head=messageNode.next}var renderLater,cachedCollection,ctrl=this,latestKey=0,messages=this.messages={};this.render=function(collection){collection=collection||{},renderLater=!1,cachedCollection=collection;for(var multiple=isAttrTruthy($scope,$attrs.ngMessagesMultiple)||isAttrTruthy($scope,$attrs.multiple),unmatchedMessages=[],matchedKeys={},messageItem=ctrl.head,messageFound=!1,totalMessages=0;null!=messageItem;){totalMessages++;var messageCtrl=messageItem.message,messageUsed=!1;messageFound||forEach(collection,function(value,key){if(!messageUsed&&truthy(value)&&messageCtrl.test(key)){if(matchedKeys[key])return;matchedKeys[key]=!0,messageUsed=!0,messageCtrl.attach()}}),messageUsed?messageFound=!multiple:unmatchedMessages.push(messageCtrl),messageItem=messageItem.next}forEach(unmatchedMessages,function(messageCtrl){messageCtrl.detach()}),unmatchedMessages.length!==totalMessages?$animate.setClass($element,ACTIVE_CLASS,INACTIVE_CLASS):$animate.setClass($element,INACTIVE_CLASS,ACTIVE_CLASS)},$scope.$watchCollection($attrs.ngMessages||$attrs["for"],ctrl.render),this.reRender=function(){renderLater||(renderLater=!0,$scope.$evalAsync(function(){renderLater&&cachedCollection&&ctrl.render(cachedCollection)}))},this.register=function(comment,messageCtrl){var nextKey=latestKey.toString();messages[nextKey]={message:messageCtrl},insertMessageNode($element[0],comment,nextKey),comment.$$ngMessageNode=nextKey,latestKey++,ctrl.reRender()},this.deregister=function(comment){var key=comment.$$ngMessageNode;delete comment.$$ngMessageNode,removeMessageNode($element[0],comment,key),delete messages[key],ctrl.reRender()}}]}}]).directive("ngMessagesInclude",["$templateRequest","$document","$compile",function($templateRequest,$document,$compile){return{restrict:"AE",require:"^^ngMessages",link:function($scope,element,attrs){var src=attrs.ngMessagesInclude||attrs.src;$templateRequest(src).then(function(html){$compile(html)($scope,function(contents){element.after(contents);var anchor=jqLite($document[0].createComment(" ngMessagesInclude: "+src+" "));element.after(anchor),element.remove()})})}}}]).directive("ngMessage",ngMessageDirectiveFactory("AE")).directive("ngMessageExp",ngMessageDirectiveFactory("A"))}(),function(){"use strict";function directive(FeatureStatus){return{restrict:"A",link:function($scope,$element,$attr){var isAvailable=FeatureStatus.checkMultipleFeatureStatuses($attr.ifFeatureEnabled,!0);isAvailable||$element.remove()}}}angular.module("directives").directive("ifFeatureEnabled",directive),directive.$inject=["FeatureStatus"]}(),function(){"use strict";function directive(FeatureStatus){return{restrict:"A",replace:!0,link:function($scope,$element,$attr){if($attr.ngIf)throw"Invalid use: if-feature-disabled can not be used on element with ngIf";var isAvailable=FeatureStatus.checkFeatureStatus($attr.ifFeatureDisabled);isAvailable&&$element.remove()}}}angular.module("directives").directive("ifFeatureDisabled",directive),directive.$inject=["FeatureStatus"]}(),function(){"use strict";function _directive(){return{transclude:!0,replace:!0,template:'<div class="vertical-center-container"><div ng-transclude></div></div>',restrict:"A"}}var module=angular.module("directives");module.directive("verticalCenter",[_directive])}(),function(){"use strict";function _directive(){return{templateUrl:"common/templates/contact-us.html",restrict:"E",scope:{text:"=",phoneNumber:"=",available:"="}}}var module=angular.module("directives");module.directive("contactUs",[_directive])}(),function(){"use strict";var module,directive;module=angular.module("directives"),directive=function(){return{restrict:"A",require:"ngModel",link:function(scope,elem,attrs,ngModelCtrl){var dRegex=new RegExp(attrs.awDatepickerPattern);ngModelCtrl.$parsers.unshift(function(value){if("string"==typeof value){var isValid=dRegex.test(value);if(ngModelCtrl.$setValidity("date",isValid),!isValid)return void 0}return value})}}},module.directive("awDatepickerPattern",[directive])}(),function(){"use strict";function directive($localStorage){return{restrict:"E",link:function($scope,$element){$localStorage.isDisabled()||$element.remove()},template:'<div class="announcement alert alert-danger">You need to enable cookies in order to use Myhealth. They may be disabled if you are using a private browsing window.</div>'}}angular.module("app.preloaded.data").directive("privateBrowsing",directive),directive.$inject=["$localStorage"]}(),function(){"use strict";function directive(Moment){return{restrict:"A",link:function(scope,element,attrs){var dateFormat="MM/DD/YYYY HH:mm:ss",today=new Moment,publishOn=attrs.publishon,expires=attrs.publishexpires;if(publishOn){var dateToPublish=new Moment(publishOn,dateFormat);today.isAfter(dateToPublish)||today.isSame(dateToPublish)?element.show():element.hide()}else if(expires){var dateToRemove=new Moment(expires,dateFormat);today.isAfter(dateToRemove)||today.isSame(dateToRemove)?element.hide():element.show()}}}}var module=angular.module("directives");module.directive("publish",["Moment",directive])}(),function(){"use strict";function directive($window,UserAgent){return{template:'<button class="{{btnclass}}" data-ng-click="print()" data-ng-hide="isApp"><span data-ng-if="!text || showicon" class="glyphicon glyphicon-print"></span>{{text}}</button>',restrict:"E",scope:{},link:function(scope,element,attrs){scope.isApp=UserAgent.isMobileApp,scope.btnclass=void 0!==attrs.btnclass?attrs.btnclass:"btn btn-default btn-glyphicon",scope.text=void 0!==attrs.text?attrs.text:"",scope.showicon=void 0!==attrs.showicon?attrs.showicon:!1},controller:function($scope){$scope.print=function(){$window.print()}}}}var module=angular.module("directives");
module.directive("printButton",["$window","UserAgent",directive])}(),function(){"use strict";var module,directive;module=angular.module("directives"),directive=function(UserAgent,easternTimeFilter,appConfig,Notifications,$window){return{restrict:"E",replace:!0,transclude:!0,scope:{eventStartDate:"@",eventEndDate:"@",eventLocation:"@",eventName:"@"},template:'<a data-ng-click="addToCalendar()" ng-transclude></a>',link:function(scope){function webAddToCalendar(){var eventEndDate,eventStartDate=easternTimeFilter(scope.eventStartDate,"YYYY-MM-DDTHH:mm"),eventName=scope.eventName,eventLocation=scope.eventLocation;scope.eventEndDate?eventEndDate=scope.eventEndDate:(eventEndDate=new Date(scope.eventStartDate.toString()),eventEndDate.setMinutes(eventEndDate.getMinutes()+30)),eventEndDate=easternTimeFilter(eventEndDate,"YYYY-MM-DDTHH:mm");var requestUrl=appConfig.apiEndpoint+"/calendar?eventName="+encodeURI(eventName)+"&eventLocation="+encodeURI(eventLocation)+"&eventStart="+encodeURI(eventStartDate)+"&eventEnd="+encodeURI(eventEndDate);$window.open(requestUrl)}function appAddToCalendar(){var eventEndDate,eventStartDate=new Date(easternTimeFilter(scope.eventStartDate)),eventName=scope.eventName,eventLocation=scope.eventLocation;scope.eventEndDate?eventEndDate=new Date(easternTimeFilter(scope.eventEndDate)):(eventEndDate=new Date(eventStartDate.toString()),eventEndDate.setMinutes(eventEndDate.getMinutes()+30));var onError=function(){Notifications.error("Error: Unable to add to calendar")};$window.plugins.calendar.createEventInteractively(eventName,eventLocation,null,eventStartDate,eventEndDate,null,onError)}scope.addToCalendar=function(){UserAgent.deviceIsIOS||UserAgent.deviceIsAndroid?appAddToCalendar():webAddToCalendar()}}}},module.directive("addToCalendar",["UserAgent","easternTimeFilter","appConfig","Notifications","$window",directive])}(),function(){"use strict";var module,directive;module=angular.module("directives"),directive=function(){return{restrict:"A",link:function(scope,element,attrs){function attachEvent(eventToRaise,targetSelector){frame.contents().find(targetSelector).click(function(){scope.$emit(eventToRaise)})}var frame=$(element).find("iframe");frame.load(function(){if(attrs.datatileCompletedDetectorConfig){scope.datatileCompletedDetectorConfig=JSON.parse(attrs.datatileCompletedDetectorConfig);for(var i=0;i<scope.datatileCompletedDetectorConfig.length;i+=1){var eventToRaise=scope.datatileCompletedDetectorConfig[i].eventToRaise,targetSelector=scope.datatileCompletedDetectorConfig[i].targetSelector;eventToRaise&&targetSelector&&attachEvent(eventToRaise,targetSelector)}}})}}},module.directive("datatileCompletedDetector",[directive])}(),function(){"use strict";function directive(){return{restrict:"E",scope:{active:"@",list:"="},templateUrl:"common/templates/tab-menu.html"}}var module=angular.module("directives");module.directive("tabMenu",[directive])}(),function(){"use strict";var module,directive;module=angular.module("directives"),directive=function(){return{require:"ngInclude",restrict:"A",link:function(scope,el){el.replaceWith(el.children())}}},module.directive("includeReplace",[directive])}(),function(){"use strict";var module=angular.module("directives"),slideTarget=function(){return{restrict:"C",compile:function(element){var contents=element.html();return element.html("<div>"+contents+"</div>"),function(scope,element,attrs){attrs.duration=attrs.duration?attrs.duration:"1s",attrs.easing=attrs.easing?attrs.easing:"ease-in-out",element.css({overflow:"hidden",maxHeight:"0px",transitionProperty:"max-height",transitionDuration:attrs.duration,transitionTimingFunction:attrs.easing})}}}},slideClickHandler=function($timeout){return{restrict:"A",link:function(scope,element,attrs){var open,closed,current,target;$timeout(function(){open=attrs.openText,closed=attrs.closedText,current=closed,target=document.querySelector(attrs.slideClickHandler),attrs.expanded=!1,element.html('<a href="javascript:;" style="cursor: pointer">'+current+"</a>"),element.bind("click",function(){attrs.expanded?(current=closed,target.style.maxHeight="0px"):(current=open,target.style.maxHeight=attrs.maxTargetHeight?attrs.maxTargetHeight:"1000px"),element.html('<a href="javascript:;" style="cursor: pointer">'+current+"</a>"),attrs.expanded=!attrs.expanded})},0)}}};module.directive("slideClickHandler",["$timeout",slideClickHandler]),module.directive("slidetarget",[slideTarget])}(),function(){"use strict";function directive(UserAgent){return{restrict:"A",link:function($scope,$element){var isMobileApp=UserAgent.isMobileApp;isMobileApp||$element.remove()}}}var module=angular.module("directives");module.directive("ifMobileApp",["UserAgent",directive])}(),function(){"use strict";var module=angular.module("directives"),iosTooltip=function($compile,UserAgent){return{link:function(scope,element){var clone;element.removeAttr("ios-tooltip"),clone=element.clone(),(UserAgent.isBrowserOnIOS||UserAgent.deviceIsIOS)&&clone.attr("tooltip-trigger","outsideClick"),clone=$compile(clone)(scope),element.replaceWith(clone)},priority:1e3,terminal:!0}};module.directive("iosTooltip",["$compile","UserAgent",iosTooltip])}(),function(){"use strict";function _directive(UserAgent){return{restrict:"A",link:{pre:function(scope,element,attrs){var supportsSVG=UserAgent.supportsSVG;if(!supportsSVG){var newSrc=attrs.src.replace(".svg",".png");attrs.$set("src",newSrc)}}}}}var module=angular.module("directives");module.directive("svgAlt",["UserAgent",_directive])}(),function(){"use strict";var module=angular.module("directives"),directive=function($window){return{restrict:"A",link:function(scope,elem){function makeIFrameFullHeight(doNotTriggerResize){try{if(callLevel+=1,callLevel>2)return;var childWindow=elem[0].contentWindow;if(childWindow&&childWindow.document){!doNotTriggerResize&&childWindow.$&&childWindow.$("div.content").trigger("resize",{forceShrink:!0});var scrollHeight=childWindow.document.body.scrollHeight,offsetHeight=childWindow.document.body.offsetHeight;elem[0].style.height=(offsetHeight>scrollHeight?scrollHeight:offsetHeight)+20+"px"}}finally{callLevel-=1}}var callLevel=0;elem.on("load",function(){makeIFrameFullHeight();var childWindow=elem[0].contentWindow;childWindow&&childWindow.document&&childWindow.$&&(childWindow.$(childWindow.document).ajaxComplete(makeIFrameFullHeight),childWindow.$(childWindow.document).on("webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend",function(){makeIFrameFullHeight(!0)}),childWindow.$(childWindow).on("matchColumnHeights componentRendered formSubmit",makeIFrameFullHeight))}),angular.element($window).on("resize",makeIFrameFullHeight);var mediaQueryList=$window.matchMedia("print");mediaQueryList.addListener(makeIFrameFullHeight)}}};module.directive("dynamicHeightDt",["$window",directive])}(),function(){"use strict";function castStringToBoolean(val){return"true"===val?!0:!1}function spinnerInline(){return{restrict:"E",scope:!0,link:function(scope,element,attrs){scope.showSpinner=castStringToBoolean(attrs.trigger),attrs.$observe("trigger",function(val){scope.showSpinner=castStringToBoolean(val)})},template:function(elemnt,attr){return"status"===attr.spinnerType?'<span id="status-spinner" ng-show="showSpinner"><img src="assets/images/update-spinner.gif" alt="Loading spinner" /></span>':"simple"===attr.spinnerType?'<br /><div id="inline-spinner" ng-show="showSpinner"><img src="assets/images/update-spinner.gif" alt="Loading spinner" /></div>':'<br /><div id="inline-spinner" ng-show="showSpinner"><img src="assets/images/update-spinner.gif" alt="Loading spinner" /><div>Loading Results</div></div>'}}}angular.module("directives").directive("spinnerInline",spinnerInline)}(),function(){"use strict";var module=angular.module("directives"),directive=function(){return{restrict:"A",link:function(scope,elem,attrs){scope.$parent.notifyUser=!1;var frame=elem.find("iframe");frame.on("load",function(event){scope.$parent.notifyUser=-1!==event.target.contentDocument.URL.indexOf(attrs.dtNotifyUserUrl),scope.$parent.$apply()})}}};module.directive("dtNotifyUserUrl",directive)}(),function(){"use strict";function phoneFilter(){return function(phone,format){var defaultFormat="$1.$2.$3",extension=null,result=null;if(!phone)return"";if(_.includes(phone,",")){var pieces=phone.split(",");phone=pieces[0],extension=pieces[1].replace(/[^\d]/g,"")}return phone=phone.replace(/[^\d]/g,"").substr(-10),phone.length>=10?(result=phone.replace(/(\d{3})(\d{3})(\d{4})/,format||defaultFormat),extension&&(result+=" x"+extension)):result=phone,result}}var module=angular.module("filters");module.filter("phone",[phoneFilter])}(),function(){"use strict";function newLinesFilter(){return function(text){return null!==text&&(text=text.replace(/\n/g,"<br/>")),text}}var module=angular.module("filters");module.filter("newlines",[newLinesFilter])}(),function(){"use strict";function filter($filter){return function(input){var value=$filter("currency")(input);return value&&value.length>=3?value.substring(0,value.length-3):null}}var module=angular.module("filters");module.filter("currencyNoCents",["$filter",filter])}(),function(){"use strict";function filter($filter){return function(check,capitalize){var text=check?"yes":"no";return capitalize&&(text=$filter("capitalize")(text)),text}}var module=angular.module("filters");module.filter("yesNo",["$filter",filter])}(),function(){"use strict";function capitalizeFilter(){return function(value){return value&&value.length?value.charAt(0).toUpperCase()+value.slice(1):value}}var module=angular.module("filters");module.filter("capitalize",[capitalizeFilter])}(),function(){"use strict";function titlecase(){return function(input){return input&&angular.isString(input)?input.replace(/\w\S*/g,function(txt){return txt.charAt(0).toUpperCase()+txt.substr(1).toLowerCase()}):input}}var module=angular.module("filters");module.filter("titlecase",[titlecase])}(),function(){"use strict";function easternTime(Moment){return function(datestring,format){return null===datestring?"No Date Provided":new Moment(datestring).tz("America/New_York").format(format)}}var module=angular.module("filters");module.filter("easternTime",["Moment",easternTime])}(),function(){"use strict";function filter(){return function(address){var lines=[address.addressLine1||address.address1];(address.addressLine2||address.address2)&&lines.push(address.addressLine2||address.address2);var zip=address.zipCode||address.zip;return 9===zip.length&&(zip=zip.slice(0,5)+"-"+zip.slice(5)),lines.push([address.city+",",address.state,zip].join(" ")),lines}}var module=angular.module("filters");module.filter("addressLines",[filter])}(),function(){"use strict";function filter($sce){return function(text){return $sce.trustAsHtml(text)}}var module=angular.module("filters");module.filter("trustedHtml",["$sce",filter])}(),function(){"use strict";function filter(){return function(value,result){return isNaN(Number(result))?"":value}}var module=angular.module("filters");module.filter("isNumeric",filter)}(),function(){"use strict";function splitByFilter(){return function(text,splitBy){return text?text.split(splitBy||","):[]}}var module=angular.module("filters");module.filter("splitBy",[splitByFilter])}(),function(){"use strict";function replaceText(){return function(text,splitter){if(text){var textArray,textJoin;return textArray=splitter?text.split(splitter):text.split(" "),textJoin=textArray.join("-"),textJoin.toLowerCase()}return[]}}var module=angular.module("filters");module.filter("replaceText",[replaceText])}(),function(){"use strict";function offsetFilter(){return function(input,start){return start=parseInt(start,10),input.slice(start)}}var module=angular.module("filters");module.filter("offset",[offsetFilter])}(),function(){"use strict";function encodeURIComponentFilter(){return function(input){return input&&angular.isString(input)?encodeURIComponent(input):input}}var module=angular.module("filters");module.filter("encodeURIComponent",[encodeURIComponentFilter])}(),function(){"use strict";function filter(Moment,easternTimeFilter){return function(event,timeAmount,timeUnit,dateProp,afterEvent,beforeThreshold){if(!event)return null;if("object"!=typeof event||!timeAmount||!timeUnit||!event[dateProp])throw"Invalid filter parameters";var thresholdDate,currentDate=new Moment(easternTimeFilter(new Date));return thresholdDate=afterEvent?new Moment(easternTimeFilter(event[dateProp])).add(timeAmount,timeUnit):new Moment(easternTimeFilter(event[dateProp])).subtract(timeAmount,timeUnit),beforeThreshold?currentDate.isBefore(thresholdDate)?event:null:currentDate.isAfter(thresholdDate)?event:null}}angular.module("filters").filter("timeThreshold",["Moment","easternTimeFilter",filter])}(),function(){"use strict";function decoratePromises($delegate){var defer=$delegate.defer;return $delegate.defer=function(){var deferred=defer();return deferred.promise.success=function(fn){return deferred.promise.then(function(value){fn(value)}),deferred.promise},deferred.promise.error=function(fn){return deferred.promise.then(null,function(value){fn(value)}),deferred.promise},deferred},$delegate}function configure($provide){$provide.decorator("$q",["$delegate",decoratePromises])}var app=angular.module("app");app.config(["$provide",configure])}(),function(){"use strict";angular.module("app").factory("retryInterceptor",["$q","$injector",function($q,$injector){var retryCollection={};return{request:function(request){return request.headers.retry&&(retryCollection[request.url]=request.headers.retry,delete request.headers.retry),request},response:function(response){return retryCollection[response.config.url]&&(retryCollection[response.config.url]=!1),response||$q.when(response)},responseError:function(rejection){return retryCollection[rejection.config.url]&&(400===rejection.status||417===rejection.status||504===rejection.status)?(rejection.config.retry?rejection.config.retry+=1:rejection.config.retry=1,rejection.config.retry<3?$injector.get("$http")(rejection.config):$q.reject(rejection)):$q.reject(rejection)}}}])}(),function(){"use strict";function provider($compileProvider){$compileProvider.aHrefSanitizationWhitelist(/^\s*(https?|ftp|mailto|tel|file|geo|maps):/)}var module=angular.module("providers");module.config(["$compileProvider",provider])}(),function(){"use strict";function ObjectStore(container){this.$container=container||{},this.available=!!this.$container,this.disabled=!container}function objectStoreFactory(){return function(container){return new ObjectStore(container)}}function objectStoreProviderFactory(){return function(container){return function(){this.$get=function($objectStoreFactory){return $objectStoreFactory(container)},this.$get.$inject=["$objectStoreFactory"]}}}function generateProvider(container){return objectStoreProviderFactory()(container)}function defaultStorageProvider($defaultProvider){this.$get=$defaultProvider.$get}function checkStorageEnabled(storageName){try{return window[storageName]}catch(e){return void 0}}var module=angular.module("providers");ObjectStore.prototype.set=function(key,value){return this.available&&(this.$container[key]=value),this},ObjectStore.prototype.get=function(key){return this.available?this.$container[key]:void 0},ObjectStore.prototype.has=function(key){return this.available&&void 0!==this.$container[key]},ObjectStore.prototype.remove=function(key){return this.available&&delete this.$container[key],this},ObjectStore.prototype.clear=function(){if(this.available&&this.$container.clear)this.$container.clear();else{var self=this;_.forOwn(self.keys(),function(value,i){self.remove(self.keys()[i])})}return this},ObjectStore.prototype.keys=function(){var keys=[];return this.available&&(keys=_.keys(this.$container)),keys},ObjectStore.prototype.isDisabled=function(){return this.disabled},module.factory("$objectStoreFactory",[objectStoreFactory]),module.provider("$localStorage",[generateProvider(checkStorageEnabled("localStorage"))]),module.provider("$sessionStorage",[generateProvider(checkStorageEnabled("sessionStorage"))]),module.provider("$simpleStorage",[generateProvider()]),module.provider("$storage",["$localStorageProvider",defaultStorageProvider])}(),function(){"use strict";function NavigationService($location,Users,FeatureStatus){function goToScheduleVideoVisit(){var currentUser=Users.currentUser.get(),isMemberVideoVisitsActive=FeatureStatus.checkFeatureStatus("memberVideoVisits"),isMemberVideoVisit=currentUser.isMember&&!currentUser.isPatient||!currentUser.isMember&&!currentUser.isPatient;isMemberVideoVisit?isMemberVideoVisitsActive?$location.path(this.locations.startMemberVideoVisit):$location.path(this.locations.mdliveLandingPage):$location.path(this.locations.startPatientVideoVisit)}this.locations=locations,this.goToScheduleVideoVisit=goToScheduleVideoVisit}angular.module("services").service("NavigationService",NavigationService);var locations={startEvisit:"medical/ecare/evisits",startMemberVideoVisit:"medical/appointment/member-reservation",startPatientVideoVisit:"medical/ecare/video-visits/schedule",mdliveLandingPage:"mdlive",mednowLandingPage:"mednow"};NavigationService.$inject=["$location","Users","FeatureStatus"]}(),function(){"use strict";function service(AppLauncher,Environment,appConfig){var appStoreAddresses={spectrum:{android:"market://details?id=org.spectrum_health.mySpectrum",ios:"https://itunes.apple.com/us/app/spectrum-health-myhealth/id396885759?mt=8"},priority:{android:"market://details?id=com.rhomobile.member",ios:"itms://itunes.apple.com/us/app/priority-health/id378130680?mt=8&uo=4"}},launchApp=function(){var launchAddresses={android:{appAddress:"",storeAddress:""},ios:{appAddress:"",storeAddress:""}};"spectrum"===appConfig.brand||"sh"===Environment.get().brand?(launchAddresses.android.storeAddress=appStoreAddresses.spectrum.android,launchAddresses.ios.storeAddress=appStoreAddresses.spectrum.ios):(launchAddresses.android.storeAddress=appStoreAddresses.priority.android,launchAddresses.ios.storeAddress=appStoreAddresses.priority.ios),AppLauncher.launchAppOrStore(launchAddresses)};return{appStoreAddresses:appStoreAddresses,launchApp:launchApp}}var module=angular.module("services");module.service("AppStore",["AppLauncher","Environment","appConfig",service])}(),function(){"use strict";function service(UserAgent,$q,$window){this.launchAppOrStore=function(addresses){var storeAddress,appAddress;if(UserAgent.deviceIsAndroid&&addresses.android)storeAddress=addresses.android.storeAddress,appAddress=addresses.android.appAddress;else{if(!UserAgent.deviceIsIOS||!addresses.ios)return!1;storeAddress=addresses.ios.storeAddress,appAddress=addresses.ios.appAddress}this.checkInstalled(addresses.ios.appAddress).then(function(){$window.open(appAddress,"_system")}),this.checkInstalled(addresses.android.appAddress).then(function(){$window.open(appAddress,"_system")}),$window.open(storeAddress,"_system")},this.launchApp=function(addresses){var appAddress;if(UserAgent.deviceIsAndroid&&addresses.android)appAddress=addresses.android;else{if(!UserAgent.deviceIsIOS||!addresses.ios)return!1;appAddress=addresses.ios}return this.checkInstalled(addresses.ios.appAddress).then(function(){$window.open(appAddress,"_system")}),this.checkInstalled(addresses.android.appAddress).then(function(){$window.open(appAddress,"_system")}),!1},this.checkInstalled=function(addresses){var appAddress,deferred=$q.defer();if(UserAgent.deviceIsAndroid&&addresses.android)appAddress=addresses.android;else{if(!UserAgent.deviceIsIOS||!addresses.ios)return deferred.reject(),deferred.promise;appAddress=addresses.ios}return navigator.startApp.check(appAddress,function(){deferred.resolve()},function(){deferred.reject()}),deferred.promise}}var module=angular.module("services");module.service("AppLauncher",["UserAgent","$q","$window",service])}(),function(){"use strict";function service($resource,$window,appConfig,Environment,UserAgent){var deviceId=$window.device?$window.device.uuid:"none",routes={generateTempToken:appConfig.apiEndpoint+"/generateTempToken",newLogin:appConfig.apiEndpoint+"/login"},resources={generateTempToken:$resource(routes.generateTempToken),login:UserAgent.isMobileApp?$resource(routes.newLogin,{},{save:{method:"POST",headers:{"X-Device-Id":deviceId}}}):$resource(routes.newLogin,{},{save:{method:"POST"}})};this.authenticate=function(postData,urlQueryParams){return postData.appId=Environment.get().appId,resources.login.save(urlQueryParams,postData)},this.generateTempToken=function(appId){return angular.isDefined(appId)?resources.generateTempToken.get({appId:appId}):resources.generateTempToken.get()}}var module=angular.module("services");module.service("AuthService",["$resource","$window","appConfig","Environment","UserAgent",service])}(),function(){"use strict";function service($resource,appConfig){var apiEndpoint=appConfig.apiEndpoint.replace(/\/$/,""),route=[apiEndpoint,"datatiles/:id"].join("/"),resource=$resource(route);this.get=function(tileId){return resource.get({id:tileId})}}var module=angular.module("services");module.service("DataTileService",["$resource","appConfig",service])}(),function(){"use strict";function service($location,appConfig){var PH="ph",SH="sh",host=$location.host().toLowerCase(),brandHostHeader=host.split(".")[0],brand=null;brand="spectrum"===appConfig.brand?SH:"priority"===appConfig.brand?PH:brandHostHeader===PH||brandHostHeader===SH?brandHostHeader:host.search("priority")>=0?PH:SH,this.get=function(){return{brand:brand,appId:appConfig.universalLoginAppId[brand],v1AppId:appConfig.universalLoginV1AppId[brand]}}}var module=angular.module("services");module.service("Environment",["$location","appConfig",service])}(),function(){"use strict";angular.module("services").service("EnrollmentStatus",["$http","appConfig",function($http,appConfig){var url=[appConfig.apiEndpoint,"enrollmentStatus"].join("/"),getEnrollmentStatus=function(){return $http.get(url).then(function(response){return response})};return{getEnrollmentStatus:getEnrollmentStatus}}])}(),function(){"use strict";function service(){this.getStates=function(){return states},this.getTerritories=function(){return territories}}var module=angular.module("services"),states=[{shortName:"AL",longName:"Alabama"},{shortName:"AK",longName:"Alaska"},{shortName:"AZ",longName:"Arizona"},{shortName:"AR",longName:"Arkansas"},{shortName:"CA",longName:"California"},{shortName:"CO",longName:"Colorado"},{shortName:"CT",longName:"Connecticut"},{shortName:"DE",longName:"Delaware"},{shortName:"DC",longName:"District of Columbia"},{shortName:"FL",longName:"Florida"},{shortName:"GA",longName:"Georgia"},{shortName:"HI",longName:"Hawaii"},{shortName:"ID",longName:"Idaho"},{shortName:"IL",longName:"Illinois"},{shortName:"IN",longName:"Indiana"},{shortName:"IA",longName:"Iowa"},{shortName:"KS",longName:"Kansas"},{shortName:"KY",longName:"Kentucky"},{shortName:"LA",longName:"Louisiana"},{shortName:"ME",longName:"Maine"},{shortName:"MD",longName:"Maryland"},{shortName:"MA",longName:"Massachusetts"},{shortName:"MI",longName:"Michigan"},{shortName:"MN",longName:"Minnesota"},{shortName:"MS",longName:"Mississippi"},{shortName:"MO",longName:"Missouri"},{shortName:"MT",longName:"Montana"},{shortName:"NE",longName:"Nebraska"},{shortName:"NV",longName:"Nevada"},{shortName:"NH",longName:"New Hampshire"},{shortName:"NJ",longName:"New Jersey"},{shortName:"NM",longName:"New Mexico"},{shortName:"NY",longName:"New York"},{shortName:"NC",longName:"North Carolina"},{shortName:"ND",longName:"North Dakota"},{shortName:"OH",longName:"Ohio"},{shortName:"OK",longName:"Oklahoma"},{shortName:"OR",longName:"Oregon"},{shortName:"PA",longName:"Pennsylvania"},{shortName:"RI",longName:"Rhode Island"},{shortName:"SC",longName:"South Carolina"},{shortName:"SD",longName:"South Dakota"},{shortName:"TN",longName:"Tennessee"},{shortName:"TX",longName:"Texas"},{shortName:"UT",longName:"Utah"},{shortName:"VT",longName:"Vermont"},{shortName:"VA",longName:"Virginia"},{shortName:"WA",longName:"Washington"},{shortName:"WV",longName:"West Virginia"},{shortName:"WI",longName:"Wisconsin"},{shortName:"WY",longName:"Wyoming"}],territories=["American Samoa","Federated States of Micronesia","Guam","Marshall Islands","Northern Mariana Islands","Palau","Puerto Rico","Virgin Islands","Armed Forces Africa/Canada/Europe/Middle East","Armed Forces Americas","Armed Forces Pacific"];module.service("GeographyService",[service])}(),function(){"use strict";function googleMap(){return google.maps}var module=angular.module("services");module.service("GoogleMaps",[googleMap])}(),function(){"use strict";function service($q){var globalCanceler=$q.defer(),registeredCancelers=[];this.registerNewRequest=function(request){if(request.timeout){var cancelerRegistered=!1;if(registeredCancelers.forEach(function(canceler){canceler.promise===request.timeout&&(cancelerRegistered=!0)}),!cancelerRegistered)throw new Error(0,"A timeout has been registered for request "+request.method+" "+request.url+" but the timeout was not registered with HttpManager. Please pass the timeout canceler to HttpManager.registerCanceler so HttpManager.cancelAll will be able to cancel everything.")}else request.timeout=globalCanceler.promise,this.registerCanceler(globalCanceler)},this.registerCanceler=function(canceler){registeredCancelers.push(canceler)},this.cancelAll=function(reason){globalCanceler.resolve(reason),globalCanceler=$q.defer();var origCancelers=registeredCancelers;registeredCancelers=[],origCancelers.forEach(function(canceler){canceler.resolve(reason)})}}var module=angular.module("services");module.service("HttpManager",["$q",service])}(),function(){"use strict";function service(){this.InsuranceOption=function(id,description){this.id=id,this.description=description},this.InsuranceProviderConstants={PH:"Priority Health",BCBS:"Blue Cross Blue Shield",Humana:"Humana",Aetna:"Aetna",HAP:"Health Alliance Plan (HAP)",GrandValley:"Grand Valley Health Plan",AARP:"AARP",Assurant:"Assurant",Other:"Other",PreferNotToSay:"Prefer Not to Say"},this.getAllInsuranceProviders=function(){var allOptions=[];for(var key in this.InsuranceProviderConstants)this.InsuranceProviderConstants.hasOwnProperty(key)&&allOptions.push(new this.InsuranceOption(key,this.InsuranceProviderConstants[key]));return allOptions}}var module=angular.module("services");module.service("InsuranceProviders",[service])}(),function(){"use strict";function LoginService($rootScope,$cacheFactory,AuthService,Profile,$window,SessionService,Users,HttpManager,$q,appConfig,UserAgent,Notifications,SecureStorage,$location,$sessionStorage,$localStorage,BrowserLocation){function shouldRedirectToRouteAfterLogin(){return!!routeAfterLogin}function setRedirectRouteAfterLogin(){routeAfterLogin||(routeAfterLogin=BrowserLocation.path())}function redirectToSavedRoute(){$location.url(routeAfterLogin),routeAfterLogin=""}function setRedirectExternalUrlAfterLogin(externalUrl){externalUrlAfterLogin=externalUrl}function shouldRedirectToExternalUrlAfterLogin(){return externalUrlAfterLogin().then(function(data){return!!data})}function redirectToExternalUrl(){return externalUrlAfterLogin?externalUrlAfterLogin().then(function(data){return $window.location.href=data,data}):$q.when(void 0)}function authenticate(postData,urlQueryParams){return nukeLocalStorage(),nukeSessionStorage(),AuthService.authenticate(postData,urlQueryParams).$promise.then(function(response){if(!response.success)throw{authErrorCode:response.message};if(void 0!==response.migrationSuccess&&null!==response.migrationSuccess)if(response.migrationSuccess){if(!UserAgent.isMobileApp)return $window.location=appConfig.spectrumMyHealthUrl+response.message,$q.reject("account migrated");Notifications.info("Info: Please use the Spectrum Health app.")}else needToMigrate=!0;return SessionService.initSessionOnLogin(response.sessionModel),Profile.getProfile(response.profile)},function(response){if(response.data){var errorCode=response.data.message||response.data.Message;errorCode&&(response.authErrorCode=errorCode)}throw response})}function reauthenticate(refreshToken){var sessionResponse,session=SessionService.reinitialize(refreshToken);return session.then(function(response){return sessionResponse=response,response}).then(Profile.get).then(function(){return sessionResponse})}function needToMigrateVal(){return needToMigrate}function ssoAuthenticate(tempToken){return SessionService.initialize(tempToken).then(Profile.get)}function logout(){logoutWithoutRedirect(),$location.path("/")}function getLoggedInStatus(){return loggedInStatus=$sessionStorage.has("loggedIn")?$sessionStorage.get("loggedIn"):!1}function setLoggedInStatus(loggedInStatus){$sessionStorage.set("loggedIn",loggedInStatus)}function logoutWithoutRedirect(){HttpManager.cancelAll("Sign out"),SessionService["delete"](),Users.currentUser["delete"](),Users.loggedInUser["delete"](),nukeLocalStorage(),nukeSessionStorage(),nukeAllCaches(),$rootScope.$broadcast("loggedInStatusChanged"),$rootScope.$broadcast("userLoggedOut")}function login(){$sessionStorage.set("loggedIn",!0),$rootScope.$broadcast("loggedInStatusChanged")}function hasRefreshToken(){var value=SecureStorage.getValue("myHealthHasRefreshToken");return value}function nukeAllCaches(){var caches=$cacheFactory.info(),ignoredCaches=["templates"];_.each(caches,function(cacheKeyPair){if(-1===ignoredCaches.indexOf(cacheKeyPair.id)){var cache=$cacheFactory.get(cacheKeyPair.id);cache.removeAll()}})}function nukeSessionStorage(){$sessionStorage.remove("currentUser"),$sessionStorage.remove("loggedInUser"),$sessionStorage.remove("loggedIn"),$sessionStorage.remove("dateFilter"),$sessionStorage.remove("xsrfHeader")}function nukeLocalStorage(){$localStorage.remove("xsrfHeader")}var needToMigrate=!1,routeAfterLogin="",externalUrlAfterLogin=$q.when(void 0),loggedInStatus=!1;this.logoutWithoutRedirect=logoutWithoutRedirect,this.authenticate=authenticate,this.reauthenticate=reauthenticate,this.logout=logout,this.needToMigrateVal=needToMigrateVal,this.ssoAuthenticate=ssoAuthenticate,this.getLoggedInStatus=getLoggedInStatus,this.setLoggedInStatus=setLoggedInStatus,this.login=login,this.hasRefreshToken=hasRefreshToken,this.shouldRedirectToRouteAfterLogin=shouldRedirectToRouteAfterLogin,this.setRedirectRouteAfterLogin=setRedirectRouteAfterLogin,this.redirectToSavedRoute=redirectToSavedRoute,this.setRedirectExternalUrlAfterLogin=setRedirectExternalUrlAfterLogin,this.shouldRedirectToExternalUrlAfterLogin=shouldRedirectToExternalUrlAfterLogin,this.redirectToExternalUrl=redirectToExternalUrl}angular.module("services").service("Login",LoginService),LoginService.$inject=["$rootScope","$cacheFactory","AuthService","Profile","$window","SessionService","Users","HttpManager","$q","appConfig","UserAgent","Notifications","SecureStorage","$location","$sessionStorage","$localStorage","BrowserLocation"]}(),function(){"use strict";function ProfileService(ProfileResource,$q,Users,FeatureStatus){this.getProfile=function(profile){profileDeferred=$q.defer();var loggedInUser=Users.loggedInUser.get(),loggedInProxyId=loggedInUser.ePersonId?loggedInUser.ePersonId:profile.ePersonId;return Users.currentUser.set(mapProfile(profile,loggedInProxyId,FeatureStatus)),loggedInUser.ePersonId||Users.loggedInUser.set(mapProfile(profile,profile.ePersonId,FeatureStatus)),profileDeferred.resolve(Users.currentUser.get()),profileDeferred.promise},this.get=function(){profileDeferred=$q.defer();var promise=ProfileResource.get();return promise.then(function(data){data.profileImage=""===data.profileImage?"assets/images/profile-fallback.png":data.profileImage;var loggedInUser=Users.loggedInUser.get(),loggedInProxyId=loggedInUser.ePersonId?loggedInUser.ePersonId:data.ePersonId;Users.currentUser.set(mapProfile(data,loggedInProxyId,FeatureStatus)),loggedInUser.ePersonId||Users.loggedInUser.set(mapProfile(data,data.ePersonId,FeatureStatus)),profileDeferred.resolve(Users.currentUser.get())}),promise["catch"](function(response){profileDeferred.reject(response)}),profileDeferred.promise},this.retrieveOrGet=function(useDeferred){
return profileDeferred&&useDeferred?profileDeferred.promise:this.get()},this.post=function(data){return ProfileResource.post(data)},this.mapProfile=mapProfile}function getMenuRoles(user,allRoles,FeatureStatus){var roles=[];user.isPatient&&roles.push("blue"),user.isMember&&roles.push("green"),!user.isPerson||user.isPatient||user.isMember||roles.push("lobby"),user.age<=12&&user.isPatient&&roles.push("growthChart"),user.isSameUser&&roles.push("hasAccess"),user.isMember&&user.isSameUser&&roles.push("isLoggedInMember"),user.isPatient&&user.isSameUser&&roles.push("isLoggedInPatient"),_.includes(user.authorizations,"CARE_MANAGED_MEMBER")&&roles.push("CareManagedMember"),(user.isSameUser&&user.isPatient||user.age<18&&user.isPatient)&&roles.push("isPatientAndSameUserOrMinor"),_.includes(user.authorizations,"HEALTH_COACHED")&&roles.push("HealthCoached"),FeatureStatus.checkFeatureStatus("wellnessOnlyLandingPage")&&_.includes(user.authorizations,"WELLNESS_ONLY")&&!user.isPatient&&roles.push("WellnessOnlyMember"),FeatureStatus.checkFeatureStatus("inpatientExperience")&&allRoles&&-1!==allRoles.indexOf("Inpatient")&&roles.push("Inpatient");var programRoles=getRewardsRoles(allRoles);return _.union(roles,programRoles)}function mapProfile(data,loggedInProxyId,FeatureStatus){var displayName=data.firstName||data.userName,profile={email:data.email,ePersonId:data.ePersonId,username:data.userName,displayName:displayName,fullName:data.firstName?[data.firstName,data.lastName].join(" "):displayName,firstName:data.firstName,lastName:data.lastName,dob:data.dob,age:data.age,profileImage:data.profileImage,isGoPaperless:data.isGoPaperless,isPerson:_.includes(data.userRoles,"EPerson"),isMember:_.includes(data.userRoles,"EMember"),isPatient:_.includes(data.userRoles,"EPatient"),isAdmitted:_.includes(data.userRoles,"Inpatient"),uiExperience:getUiExperience(data,FeatureStatus),isMedicalGroupPatient:_.includes(data.userRoles,"EMedicalGroupPatient"),isSameUser:data.ePersonId===loggedInProxyId?!0:!1,authorizations:data.authorizations,userPreferences:data.userPreferences,phMemberId:data.phMemberId};return profile.menuRoles=getMenuRoles(profile,data.userRoles,FeatureStatus),profile}function getUiExperience(user,FeatureStatus){return FeatureStatus.checkFeatureStatus("phThemeOverrides")?_.includes(user.userRoles,"EMember")&&!_.includes(user.userRoles,"EPatient")?"green":"blue":""}function getRewardsRoles(userRoles){var programRoles=_.filter(userRoles,function(role){return role.indexOf("RewardsProgram")>-1}),mappedProgramRoles=_.map(programRoles,function(role){var parts=role.split("_"),named=rewardProgramIdToNameLookup[parts[1]]?rewardProgramIdToNameLookup[parts[1]]:parts[1];return parts[0]+"_"+named});return mappedProgramRoles}angular.module("services").service("Profile",ProfileService),ProfileService.$inject=["ProfileResource","$q","Users","FeatureStatus"];var profileDeferred=null,rewardProgramIdToNameLookup={1:"Diabetes"}}(),function(){"use strict";function _service($resource,appConfig,Environment){this.get=function(){return $resource(appConfig.apiEndpoint+"/profile?appId="+Environment.get().appId).get().$promise},this.post=function(data){return $resource(appConfig.apiEndpoint+"/profile").save(data).$promise}}var module=angular.module("services");module.service("ProfileResource",["$resource","appConfig","Environment",_service])}(),function(){"use strict";function ChangeUsername($resource,$http,appConfig,config){function route(path){return path=path.replace(/^\//,""),[apiEndpoint,path].join("/")}function getToken(){return changeUsername.get()}function cancelRequest(token){return changeUsername["delete"]({token:token})}function submitRequest(newUsername){return changeUsername.save(JSON.stringify(newUsername))}function getTokenFromEmail(token){var params={token:token};return changeUsername.get(params)}function completeRequest(token,password){var payload={token:token,password:password};return $http.put(url,payload)}function isRequestLimitReached(){var requestUrl=[url,config.apiRoutes.requests].join("/"),promise=$http.get(requestUrl).then(function(response){return response.data});return promise}var apiEndpoint=appConfig.apiEndpoint.replace(/\/$/,""),url=route(config.apiRoutes.changeUsername),changeUsername=$resource(url,{});return{getToken:getToken,isRequestLimitReached:isRequestLimitReached,cancelRequest:cancelRequest,submitRequest:submitRequest,getTokenFromEmail:getTokenFromEmail,completeRequest:completeRequest}}angular.module("profile").service("ChangeUsername",ChangeUsername),ChangeUsername.$inject=["$resource","$http","appConfig","profileConfig"]}(),function(){"use strict";function service($resource,$rootScope,$localStorage,appConfig,Environment){var xsrfTokenInMemory,Session=$resource(appConfig.apiEndpoint+"/session?appId="+Environment.get().appId),saveUserSession=function(userSession){var xsrfToken=userSession.xsrfToken;xsrfToken?(xsrfTokenInMemory=userSession.xsrfToken,$localStorage.set("xsrfHeader",xsrfToken)):$localStorage.remove("xsrfHeader")};this.xsrfHasChanged=function(){return $localStorage.has("xsrfHeader")&&!xsrfTokenInMemory&&(xsrfTokenInMemory=$localStorage.get("xsrfHeader")),xsrfTokenInMemory!==$localStorage.get("xsrfHeader")},this.initSessionOnLogin=function(tempToken){saveUserSession(tempToken)},this.initialize=function(tempToken){var session=new Session;return session.TempToken=tempToken,session.$save(saveUserSession)},this.reinitialize=function(refreshToken){var session=new Session;return session.RefreshToken=refreshToken,session.$save(saveUserSession)},this["delete"]=function(){var session=new Session;return session.$delete()["finally"](function(){$rootScope.$broadcast("sessionDeleted")})}}var module=angular.module("services");module.service("SessionService",["$resource","$rootScope","$localStorage","appConfig","Environment",service])}(),function(){"use strict";function service(appConfig){this.mapAddressUrl=function(address){var urlFormat="https://www.google.com/maps/preview?q={0}",query="";if(angular.isString(address))query=address;else if(angular.isObject(address)){var parts=_.filter([address.addressLine1||address.address1,address.addressLine2||address.address2,address.city,address.state,address.zipCode||address.zip],Boolean);query=parts.join(" ")}return urlFormat.replace("{0}",encodeURIComponent(query))},this.absolute=function(host,path){return host=host.replace(/\/$/,""),path=path.replace(/^\//,""),[host,path].join("/")},this.apiRoute=function(path){return this.absolute(appConfig.apiEndpoint,path)}}var module=angular.module("services");module.service("$url",["appConfig",service])}(),function(){"use strict";function service($window){var userAgent=$window.navigator.userAgent,mobileDetect=new window.MobileDetect(userAgent),mobile=mobileDetect.mobile(),phone=mobileDetect.phone(),tablet=mobileDetect.tablet();this.isBrowserOnIOS=/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,window.device?(this.deviceIsIOS="iOS"===window.device.platform,this.deviceIsAndroid="Android"===window.device.platform):(this.deviceIsIOS=!1,this.deviceIsAndroid=!1),this.isMobile=mobile?!0:!1,this.isMobileApp=window.cordova?!0:!1,this.mobilePluginsAvailable=!(!window.cordova||!window.cordova.plugins),this.isPhone=phone?!0:!1,this.isTablet=tablet?!0:!1,this.isMobileDevice=this.isMobile||this.isMobileApp||this.isPhone||this.isTablet||this.deviceIsIOS||this.deviceIsAndroid||this.isBrowserOnIOS,this.hasMobilePlugin=function(name){return this.mobilePluginsAvailable&&window.cordova.plugins[name]},this.getIEVersion=function(){var idx=userAgent.indexOf("MSIE");return idx>0?parseInt(userAgent.substring(idx+5,userAgent.indexOf(".",idx))):userAgent.match(/Trident\/7\./)?11:0},this.supportsSVG=!this.getIEVersion()}var module=angular.module("services");module.service("UserAgent",["$window",service])}(),function(){"use strict";function userService($rootScope,UserFactory){function User(profileId){this.set=function(profile){userProfiles[profileId]=JSON.stringify(profile),$rootScope.$broadcast(profileId+"Set")},this.get=function(){var data={};return data=userProfiles[profileId]?JSON.parse(userProfiles[profileId]):defaultUser,UserFactory.createModel(data)},this["delete"]=function(){userProfiles[profileId]=null,sessionStorage.removeItem("banner")}}function getDefaultUser(){return UserFactory.createModel(defaultUser)}this.getDefaultUser=getDefaultUser,this.loggedInUser=new User("loggedInUser"),this.currentUser=new User("currentUser"),this.isUserProxied=function(){return this.currentUser.get().ePersonId!==this.loggedInUser.get().ePersonId}}var module=angular.module("services"),defaultUser={ePersonId:"",isPerson:!0,isMember:!1,isPatient:!1,isMedicalGroupPatient:!1,isGoPaperless:null,displayName:"Guest",fullName:"Guest User",firstName:"",lastName:"",dob:"",username:"guest",profileImage:"assets/images/profile-fallback.png",menuRoles:["guest"]},userProfiles={};module.service("Users",userService),userService.$inject=["$rootScope","UserFactory"]}(),function(){"use strict";function _service(){var pixelsPerEm=window.getEmPixels(document.body);this.screenLg=90*pixelsPerEm,this.screenMd=62*pixelsPerEm,this.screenSm=48*pixelsPerEm,this.screenXs=30*pixelsPerEm,this.screenMidMdLg=this.screenMd+(this.screenLg-this.screenMd)/2,this.screenMidSmMd=this.screenSm+(this.screenMd-this.screenSm)/2,this.screenMidXsSm=this.screenXs+(this.screenSm-this.screenXs)/2,this.screenHalfXs=this.screenXs/2}var module=angular.module("services");module.service("Breakpoints",[_service])}(),function(){"use strict";function factory(usSpinnerService){return function(spinKey){function check(){count>0&&!isBusy?(usSpinnerService.spin(spinnerKey),isBusy=!0):0===count&&(usSpinnerService.stop(spinnerKey),isBusy=!1)}var count=0,isBusy=!1,spinnerKey=spinKey||"spinner-main";return{watch:function(promise){promise&&(this.start(),promise["finally"](this.done))},isBusy:function(){return isBusy&&count>0},count:function(){return count},spinnerKey:function(key){this.clear(),spinnerKey=key},start:function(){count+=1,check()},clear:function(){count=0,check()},done:function(){count=Math.max(0,count-1),check()}}}}function service($busyQueue){return $busyQueue()}angular.module("services").factory("$busyQueue",factory).service("$busy",service),factory.$inject=["usSpinnerService"],service.$inject=["$busyQueue"]}(),function(){"use strict";function service($resource,$http,$q,appConfig){var xsrf,routes={token:appConfig.apiEndpoint+"/generatetemptoken",session:appConfig.apiEndpointV1+"/session"},resources={token:$resource(routes.token)};this.getSession=function(){var deferred=$q.defer();return resources.token.get().$promise.then(function(data){$resource(routes.session,{},{save:{method:"POST",headers:{Authorization:"shSSOTemp "+data.tempToken,"X-XSRF-TOKEN":void 0}}}).save().$promise.then(function(response){xsrf=response.xsrfToken,deferred.resolve(response)},function(response){deferred.reject(response)})},function(response){deferred.reject(response)}),deferred.promise},this.deleteSession=function(){return $resource(routes.session)["delete"]()},this.getXsrf=function(){return xsrf}}var module=angular.module("services");module.service("V1Session",["$resource","$http","$q","appConfig",service])}(),function(){"use strict";function service(Moment){this.calculateAge=function(birthday){return(new Moment).diff(birthday,"years")}}var module=angular.module("services");module.service("AgeCalculator",["Moment",service])}(),function(){"use strict";function service(){this.pathToRegex=function(path){var sections=path.split("/"),numSections=0,regexBuilder=[],regex="";if("/"===path)return/\/$/;sections=_.filter(sections,function(section){return section&&section.length}),numSections=sections.length;for(var i=0;numSections>i;i+=1){var section=sections[i],isLast=i>=numSections-1,result=section.toString();result=result.replace("*","[^/]*"),isLast&&(result=result.replace("*","*[\\w\\-_/+=]*")),regexBuilder.push(result)}return regexBuilder.push("?$"),regex=regexBuilder.join("/"),new RegExp(regex)}}var module=angular.module("services");module.service("RegexUtil",[service])}(),function(){"use strict";function generateKey(name,password){return[name,password].join("-")}function _service($q,UserAgent,$storage){if(UserAgent.isMobileApp&&UserAgent.hasMobilePlugin("SecureStorage")){var secureStorage=window.cordova.plugins.SecureStorage;this.getValue=function(name,password){var deferred=$q.defer();return secureStorage&&secureStorage.getValue(function(message){deferred.resolve(message)},function(error){deferred.reject(error)},name,password),deferred.promise},this.setValue=function(name,value,password){var deferred=$q.defer();return secureStorage.setValue(function(message){deferred.resolve(message)},function(error){deferred.reject(error)},name,value,password),deferred.promise},this.updateValue=function(name,value,password){return this.setValue(name,"",password).then(this.setValue(name,value,password),this.setValue(name,value,password))},this.clear=function(){var deferred=$q.defer();return secureStorage.clear(function(message){deferred.resolve(message)},function(error){deferred.reject(error)}),deferred.promise}}else this.getValue=function(name,password){var deferred=$q.defer(),key=generateKey(name,password),value=$storage.get(key);return value?deferred.resolve(value):deferred.reject(password),deferred.promise},this.setValue=function(name,value,password){var deferred=$q.defer(),key=generateKey(name,password);return deferred.resolve($storage.set(key,value)),deferred.promise},this.updateValue=function(name,value,password){return this.setValue(name,value,password)},this.clear=function(){var deferred=$q.defer();return deferred.resolve($storage.clear()),deferred.promise}}var module=angular.module("services");module.service("SecureStorage",["$q","UserAgent","$storage",_service])}(),function(){"use strict";function service($window){return $window.moment}var module=angular.module("services");module.service("Moment",["$window",service])}(),function(){"use strict";function service($window){return $window.loadImage}var module=angular.module("services");module.service("loadImage",["$window",service])}(),function(){"use strict";function FeatureStatus(appConfig,appStatusData){function getFeatureStatus(){return appStatusData}function checkMultipleFeatureStatuses(featureNames,onlyRequireOne){return onlyRequireOne=onlyRequireOne||!1,angular.isString(featureNames)&&(featureNames=_.map(featureNames.split("|"),function(featureName){return featureName.trim()})),onlyRequireOne?_.some(featureNames,this.checkFeatureStatus):_.every(featureNames,this.checkFeatureStatus)}function checkFeatureStatus(featureName){if("string"==typeof appStatusData)return void 0;var features=appStatusData.features;return featureName?void 0!==features&&void 0!==features[featureName]?features[featureName]:!1:features}return{getFeatureStatus:getFeatureStatus,checkMultipleFeatureStatuses:checkMultipleFeatureStatuses,checkFeatureStatus:checkFeatureStatus}}angular.module("services").factory("FeatureStatus",FeatureStatus),FeatureStatus.$inject=["appConfig","appStatusData"]}(),function(){"use strict";function service(Moment){function UserModel(data){_.extend(this,data),this.isAMinor=function(){if(this.dob){var age=(new Moment).diff(this.dob,"years");return 12>age}return!1},this.isAdolescent=function(){if(this.dob){var age=(new Moment).diff(this.dob,"years");return age>=12&&18>age}return!1},this.isGreaterThanOrEqualToThree=function(){if(this.dob){var age=(new Moment).diff(this.dob,"years");return age>=3}return!1},this.getAnalyticsUserType=function(){var userType="none";return this.isPatient?userType=this.isMember?"teal":"blue":this.isMember?userType="green":this.isPerson&&(userType="guest"),userType}}this.createModel=function(data){return new UserModel(data)}}var module=angular.module("services");module.service("UserFactory",["Moment",service])}(),function(){"use strict";function makeJson(data){return angular.isObject(data)?angular.toJson(data):data}function service(appConfig,Environment,$resource,$url){var route=$url.absolute(appConfig.universalLoginApiEndpoint[Environment.get().brand],"account"),params={},resource=$resource(route,params,{changePassword:{method:"PUT",transformRequest:function(data){return makeJson(data)}}});this.changePassword=function(username,oldPassword,newPassword){return resource.changePassword({username:username,oldPassword:oldPassword,password:newPassword})}}var module=angular.module("services");module.service("Account",["appConfig","Environment","$resource","$url",service])}(),function(){"use strict";function service(appConfig,$resource){this.getHealthEquityUrl=function(){return $resource([appConfig.apiEndpoint,"sso/healthequity"].join("/")).get().$promise},this.getExerciseRewardsUrl=function(){return $resource([appConfig.apiEndpoint,"sso/exerciserewards"].join("/")).get().$promise},this.getCafeWellUrl=function(contractId){var cafeWellResource=$resource("cafeWell",{},{getCafeWell:{method:"Get",url:contractId?[appConfig.apiEndpoint,"sso/cafewell/contracts/"+contractId].join("/"):[appConfig.apiEndpoint,"sso/cafewell"].join("/"),transformResponse:function(data){return{ssoUrl:angular.fromJson(data)}}}});return cafeWellResource.getCafeWell().$promise}}var module=angular.module("services");module.service("SSO",["appConfig","$resource",service])}(),function(){"use strict";function Wizard(steps,form){this.steps=steps||[],this.selectedIndex=0,this.previousIndex=-1,this.form=form,this.activeStep=null,this.stepSetName=null,this.update=function(steps){this.steps=steps,this.reset()},this.setIndex=function(idx){this.previousIndex=this.selectedIndex,this.selectedIndex=Math.min(Math.max(idx,0),this.steps.length-1),this.activeStep=this.steps[this.selectedIndex]},this.next=function(stepSetName){this.setIndex(this.selectedIndex+1),this.stepSetName=stepSetName},this.prev=function(){this.setIndex(this.selectedIndex-1)},this.reset=function(){this.form&&this.form.$setPristine(),this.setIndex(0),this.previousIndex=0}}function factory(){return function(steps,form){return new Wizard(steps,form)}}var module=angular.module("services");module.factory("Wizard",[factory])}(),function(){"use strict";function cacheService($cacheFactory,$q){function clear(key){return angular.isArray(key)?void _.forEach(key,function(item){$cache.remove(item)}):key?$cache.remove(key):$cache.removeAll()}function duration(key){if(key){var item=$cache.get(key);if(item)return item.expiration}return-1}function cache(key,value,duration){var cacheItem=$cache.get(key);return arguments.length>1&&(cacheItem=setCacheItem(key,cacheItem,value,duration),isPromise(cacheItem))?cacheItem:getCacheItem(key,cacheItem)}function getCacheItem(key,cacheItem){if(hasPending(key)){var defered=$q.defer();return getPendingItem(key).then(function(results){defered.resolve(results)})["catch"](function(err){return defered.reject(err)}),defered.promise}return cacheItem?isStale(cacheItem)?$q.reject(messages.itemIsStale):$q.when(cacheItem.value):$q.reject(messages.invalidKey)}function setCacheItem(key,cacheItem,value,duration){var cacheValue=value;if(hasPending(key)){var defered=$q.defer();return getPendingItem(key).then(function(results){defered.resolve(results)})["catch"](function(err){return defered.reject(err)}),defered.promise}if(!isStale(cacheItem))return cacheItem;if(angular.isFunction(value))try{cacheValue=value()}catch(err){return $q.reject(messages.couldNotProcessFunction)}if(isPromise(cacheValue)){var deferred=$q.defer();return insertIntoPendingQueue(key,deferred.promise),cacheValue.then(function(results){return putInCacheFactory(key,results,duration),deferred.resolve(results)})["catch"](function(err){return deferred.reject(err)})["finally"](function(){return removePending(key)}),deferred.promise}return putInCacheFactory(key,cacheValue,duration)}function putInCacheFactory(key,value,duration){var now=(new Date).getTime(),newCacheEntry={value:value,expiration:duration?now+duration:now+durations.fiveMinutes};return $cache.put(key,newCacheEntry)}function isStale(item){var now=(new Date).getTime();return item?item.expiration<=now:!0}function isPromise(value){return value.then&&value["catch"]}function hasPending(key){return angular.isDefined(_.find(pendingQueue,{key:key}))}function insertIntoPendingQueue(key,pending){pendingQueue.push({key:key,promise:pending})}function getPendingItem(key){return _.find(pendingQueue,{key:key}).promise}function removePending(key){pendingQueue.splice(_.indexOf(pendingQueue,_.find(pendingQueue,{key:key})),1)}var $cache=$cacheFactory("$casher"),messages={invalidKey:"Invalid cache key.",itemIsStale:"Cache item is stale.",couldNotProcessFunction:"Unable to process cache set function."},durations={oneMinute:6e4,threeMinutes:18e4,fiveMinutes:3e5,tenMinutes:6e5,fifteenMinutes:9e5},pendingQueue=[];return{clear:clear,duration:duration,cache:cache,durations:durations}}angular.module("services").factory("cacher",cacheService),cacheService.$inject=["$cacheFactory","$q"]}(),function(){"use strict";function service(Users){function authorizations(){return Users.currentUser.get().authorizations||[]}this.isGentex=function(){return _.includes(authorizations(),"KEY_ACCOUNT_GENTEX")},this.isGvsu=function(){return _.includes(authorizations(),"KEY_ACCOUNT_GVSU")},this.hasCustomerSupportChat=function(){return this.hasFullyFundedChat()||this.hasMyPriorityChat()},this.hasMyPriorityChat=function(){return _.includes(authorizations(),"CUSTOMER_SERVICE_CHAT_MYPRIORITY")},this.hasFullyFundedChat=function(){return _.includes(authorizations(),"CUSTOMER_SERVICE_CHAT_FULLY_FUNDED")},this.isHealthEquityEnrolled=function(){return _.includes(authorizations(),"HEALTH_EQUITY_ACTIVE")},this.wellnessOnly=function(){return _.includes(authorizations(),"WELLNESS_ONLY")},this.hasTodo=function(){return _.includes(authorizations(),"TO_DO")},this.isStrive=function(){return _.includes(authorizations(),"STRIVE")},this.isMedicare=function(){return _.includes(authorizations(),"MEDICARE")},this.isMedicaid=function(){return _.includes(authorizations(),"MEDICAID")},this.isMedigap=function(){return _.includes(authorizations(),"MEDIGAP")}}var module=angular.module("services");module.service("Authorization",["Users",service])}(),function(){"use strict";function service($resource,appConfig,Moment){var apiEndpoint=appConfig.apiEndpoint.replace(/\/$/,""),routes={reasons:[apiEndpoint,"scheduling","reasons"].join("/"),providers:[apiEndpoint,"scheduling","providers"].join("/"),locations:[apiEndpoint,"scheduling","locations"].join("/"),slots:[apiEndpoint,"scheduling","slots"].join("/"),slotReview:[apiEndpoint,"scheduling","review"].join("/"),schedule:[apiEndpoint,"scheduling"].join("/"),cancelReasons:[apiEndpoint,"scheduling","cancelreasons"].join("/"),cancelAppointment:[apiEndpoint,"scheduling","cancel"].join("/")},resources={reasons:$resource(routes.reasons),providers:$resource(routes.providers),locations:$resource(routes.locations),slots:$resource(routes.slots),slotReview:$resource(routes.slotReview),schedule:$resource(routes.schedule),cancelReasons:$resource(routes.cancelReasons),cancelAppointment:$resource(routes.cancelAppointment)};this.getReasons=function(providerId){return resources.reasons.get({providerId:providerId||null}).$promise},this.getProviders=function(reasonIndex){return resources.providers.query({reasonIndex:reasonIndex||null}).$promise},this.getLocations=function(reasonIndex,providerId){return resources.locations.query({reasonIndex:reasonIndex,providerId:providerId}).$promise},this.getSlots=function(reasonIndex,providerId,locationId,startDate,endDate){return resources.slots.query({reasonIndex:reasonIndex,providerId:providerId,locationId:locationId,start:startDate,end:endDate}).$promise},this.createAppointment=function(slot,reasonForVisitIndex,comment,selectedProvider){return resources.schedule.save({slot:slot,reasonForVisitIndex:reasonForVisitIndex,reason:comment,selectedProvider:selectedProvider}).$promise},this.getCancelReasons=function(appointmentId){return resources.cancelReasons.get({appointmentId:appointmentId}).$promise},this.cancelAppointment=function(cancelRequest){return resources.cancelAppointment.save({appointmentContactId:cancelRequest.appointmentContactId,cancelReasonId:cancelRequest.cancelReasonId,comment:cancelRequest.comment}).$promise},this.cancelAllowed=function(appointment){var cancelTimeLimit=new Moment(appointment.start).add(-60,"minutes"),now=(new Moment).tz("America/New_York"),validCancelTime=now.isBefore(cancelTimeLimit);return appointment.canCancel&&validCancelTime},this.scheduleAllowed=function(slot){var scheduleTimeLimit=new Moment(slot.date).add(-60,"minutes"),now=(new Moment).tz("America/New_York"),validScheduleTime=now.isBefore(scheduleTimeLimit);return validScheduleTime}}var module=angular.module("services");module.service("Scheduling",["$resource","appConfig","Moment",service])}(),function(){"use strict";function rslCacheClearer($http,appConfig,$q){function clear(caches){var cacheClearQueue={};if(angular.isString(caches))cacheClearQueue[caches]=!0;else{if(!angular.isArray(caches))return $q.reject({message:"invalid cache key"});angular.forEach(caches,function(key){angular.isString(key)&&(cacheClearQueue[key]=!0)})}return $http.post(postUrl,cacheClearQueue)}var postUrl=appConfig.apiEndpoint+"/clearcache";return{clear:clear}}angular.module("services").constant("RslCacheClearKeys",{AppointmentsCache:"ClearAppointmentsCache",TimelineCache:"ClearTimelineCache",VisitsCache:"ClearVisitsCache"}).factory("RslCacheClearer",rslCacheClearer),rslCacheClearer.$inject=["$http","appConfig","$q"]}(),function(){"use strict";function service(){var menus={};this.registerMenu=function(menuName,menu){menus[menuName]=menu},this.getMenu=function(menuName){var menu=menus[menuName];return"function"==typeof menu&&(menu=menu()),menu}}var module=angular.module("services");module.service("MenuTabGroupService",[service])}(),function(){"use strict";function service($q,$window){function login(username,password){var deferred=$q.defer();return $window.plugins.MyChart.login(username,password,function(data){deferred.resolve(data)},function(err){deferred.reject(err)}),deferred.promise}function showMedicalAdvice(){var deferred=$q.defer();return $window.plugins.MyChart.showGetMedicalAdviceView(function(){deferred.resolve()},function(err){deferred.reject(err)}),deferred.promise}this.login=login,this.showMedicalAdvice=showMedicalAdvice}angular.module("services").service("CordovaMyChart",["$q","$window",service])}(),function(){"use strict";function popupService($window,UserAgent){var local=this;this.prepPopup=function(url,type){UserAgent.isMobileApp||(local.popup=$window.open(url,type))},this.openPopup=function(url,type){UserAgent.isMobileApp?$window.open(url,type):local.popup.location=url},this.closePopup=function(){UserAgent.isMobileApp||local.popup.close()}}var module=angular.module("services");module.service("PopupService",["$window","UserAgent",popupService])}(),function(){"use strict";function service(){this.parse=function(qString){var regex=new RegExp(/\?[a-z,A-Z,0-9]+=/);if(!regex.test(qString))return{};var qParams=qString.substring(1).split("&"),paramsObj={};return qParams.length>0&&qParams.forEach(function(value){paramsObj[value.split("=")[0]]=decodeURI(value.split("=")[1])}),paramsObj}}var module=angular.module("services");module.service("QueryStringParser",[service])}(),function(){"use strict";function service($window,UserAgent){function pushEvent(eventData){if(UserAgent.isMobileApp){var tagManager=$window.plugins.TagManager;tagManager&&$window.plugins.TagManager.pushEvent(null,function(){throw"Failed to push event to Tag Manager dataLayer"},eventData)}else $window.dataLayer&&$window.dataLayer.push(eventData)}function pushEvents(eventData){if(eventData.constructor!==Array)throw"Event data must be an array";eventData.forEach(function(item){pushEvent(item)})}this.pushEvent=pushEvent,this.pushEvents=pushEvents}angular.module("services").service("GtmDataLayerService",["$window","UserAgent",service])}(),function(){"use strict";function dentalService(appConfig,$resource,PopupService){var config={get:{isArray:!0}};this.getDentalContracts=function(){return $resource([appConfig.apiEndpoint,"dentalcontracts"].join("/"),{},config).get().$promise},this.checkForDeltaDental=function(benefitPackages){var isDelta=!1,activeProducts=_.filter(benefitPackages,{isActive:!0});if(activeProducts){var planProducts=_.map(activeProducts,function(plan){return plan.product});_.each(planProducts,function(product){product.description.match(/delta/i)&&(isDelta=!0)})}return isDelta},this.navigateToDeltaDental=function(){PopupService.prepPopup("redirect.html","_system"),PopupService.openPopup("http://www.deltadentalmi.com","_system")}}angular.module("services").service("dentalService",dentalService),dentalService.$inject=["appConfig","$resource","PopupService"]}(),function(){"use strict";function SwissArmyKnife(){function tryParseJson(jsonString){try{var parsedJSON=JSON.parse(jsonString);if(parsedJSON&&"object"==typeof parsedJSON)return parsedJSON}catch(e){}return!1}return{tryParseJson:tryParseJson}}angular.module("services").factory("SwissArmyKnife",SwissArmyKnife)}(),function(){"use strict";function browserLocationService(BrowserLocationObject){return{path:function(){return BrowserLocationObject.hash.replace("#","")}}}angular.module("services").value("BrowserLocationObject",location).factory("BrowserLocation",browserLocationService),browserLocationService.$inject=["BrowserLocationObject"]}(),function(){"use strict";function service(){return{checkRoute:checkRoute}}function checkRoute(route){for(var split=route.split("#"),compareTo=split.length>1?split[1]:route,i=0;i<allowedRoutes.length;i+=1)if(allowedRoutes[i].test(compareTo))return!0;return!1}angular.module("services").service("StandardAccessNavService",service);var allowedRoutes=[/^\/$/,/^\/about\/.*$/,/^\/login$/,/^\/timeline$/,/^\/medical$/,/^\/medical\/appointments$/,/^\/medical\/appointments\/waitlist$/,/^\/medical\/appointments\/cancel\/[0-9]*$/,/^\/medical\/appointments\/datatile.*$/,/^\/medical\/appointments\/request$/,/^\/medical\/appointments\/ticket-schedule$/,/^\/medical\/appointments\/make$/,/^\/medical\/appointments\/make\/schedule\/datatile$/,/^\/medical\/appointments\/make\/schedule\/ebola$/,/^\/medical\/appointments\/[0-9]*$/,/^\/medical\/health-info$/,/^\/medical\/health-info\/allergies$/,/^\/medical\/health-info\/immunizations$/,/^\/mednow$/,/^\/message-center$/,/^\/message-center\/compose$/,/^\/message-center\/outbox$/,/^\/message-center\/inbox$/,/^\/message-center\/single\/.*$/,/^\/about$/,/^\/share-access$/,/^\/profile$/,/^\/profile\/about-me$/,/^\/medical\/ecare\/video-visits\/schedule$/,/^\/medical\/ecare\/evisits$/]}();